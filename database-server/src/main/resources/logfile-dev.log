2021-01-31 13:46:23.420  INFO 15336 --- [restartedMain] c.c.d.DatabaseServerApplication          : The following profiles are active: dev
2021-01-31 13:46:26.456  INFO 15336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-01-31 13:46:26.498  INFO 15336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20ms. Found 0 JPA repository interfaces.
2021-01-31 13:46:26.812  WARN 15336 --- [restartedMain] o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-01-31 13:46:27.083  INFO 15336 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0be08c42-9814-3ef8-b116-a9e20875f629
2021-01-31 13:46:28.567  INFO 15336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9500 (http)
2021-01-31 13:46:28.582  INFO 15336 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-01-31 13:46:28.583  INFO 15336 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-01-31 13:46:29.035  INFO 15336 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-01-31 13:46:29.037  INFO 15336 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5594 ms
2021-01-31 13:46:30.041  WARN 15336 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2021-01-31 13:46:30.042  INFO 15336 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-01-31 13:46:30.121  INFO 15336 --- [restartedMain] c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@7ddb0b8f
2021-01-31 13:46:30.486  INFO 15336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-01-31 13:46:31.484  INFO 15336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-01-31 13:46:31.498  INFO 15336 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2'. Database available at 'jdbc:h2:mem:mydb'
2021-01-31 13:46:34.713  INFO 15336 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-01-31 13:46:34.878  INFO 15336 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.25.Final
2021-01-31 13:46:35.161  INFO 15336 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-01-31 13:46:35.445  INFO 15336 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-01-31 13:46:37.153 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists address CASCADE 
2021-01-31 13:46:37.156 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists cart CASCADE 
2021-01-31 13:46:37.157 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists delivery_history CASCADE 
2021-01-31 13:46:37.158 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists order_main CASCADE 
2021-01-31 13:46:37.158 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists payment_entry CASCADE 
2021-01-31 13:46:37.159 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists product_category CASCADE 
2021-01-31 13:46:37.159 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists product_info CASCADE 
2021-01-31 13:46:37.160 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists product_in_order CASCADE 
2021-01-31 13:46:37.160 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists user CASCADE 
2021-01-31 13:46:37.161 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop table if exists user_details CASCADE 
2021-01-31 13:46:37.161 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists address_id_sequence
2021-01-31 13:46:37.162 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists category_id_sequence
2021-01-31 13:46:37.163 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists delivery_id_sequence
2021-01-31 13:46:37.164 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists order_id_sequence
2021-01-31 13:46:37.165 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists payment_id_sequence
2021-01-31 13:46:37.166 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists product_id_sequence
2021-01-31 13:46:37.167 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists product_order_id_sequence
2021-01-31 13:46:37.167 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : drop sequence if exists user_id_sequence
2021-01-31 13:46:37.182 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence address_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.185 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence category_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.187 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence delivery_id_sequence start with 100001 increment by 1
2021-01-31 13:46:37.190 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence order_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.192 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence payment_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.193 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence product_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.194 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence product_order_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.197 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create sequence user_id_sequence start with 100000 increment by 1
2021-01-31 13:46:37.199 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table address (address_id bigint not null, area varchar(50), city varchar(50), pincode varchar(6), state varchar(50), primary key (address_id))
2021-01-31 13:46:37.209 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table cart (user_details_id bigint not null, primary key (user_details_id))
2021-01-31 13:46:37.213 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table delivery_history (delivery_id bigint not null, order_id bigint, order_status varchar(255), updated_on bigint, primary key (delivery_id))
2021-01-31 13:46:37.216 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table order_main (order_id bigint not null, buyer_address varchar(255), buyer_city varchar(255), buyer_email varchar(255), buyer_name varchar(255), buyer_phone varchar(255), buyer_pincode varchar(255), buyer_state varchar(255), delivery_charge decimal(19,2), discounted_amount decimal(19,2), final_price decimal(19,2), order_amount decimal(19,2), order_status varchar(255), payment_id bigint, payment_type varchar(255), user_id bigint, primary key (order_id))
2021-01-31 13:46:37.219 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table payment_entry (payment_id bigint not null, amount decimal(19,2), generated_id varchar(255), name varchar(255), primary key (payment_id))
2021-01-31 13:46:37.220 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table product_category (category_id bigint not null, category_description varchar(255), category_image_url varchar(255), category_name varchar(255), primary key (category_id))
2021-01-31 13:46:37.221 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table product_info (product_id bigint not null, discount_percent double, product_description varchar(255), product_icon varchar(255), product_name varchar(255), product_price decimal(19,2), product_status varchar(255), product_stock integer, product_category bigint, primary key (product_id))
2021-01-31 13:46:37.224 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table product_in_order (product_in_order_id bigint not null, discount_percent double, product_category varchar(255), product_description varchar(255), product_icon varchar(255), product_id bigint, product_name varchar(255), product_price decimal(19,2), product_stock integer, cart_id bigint, order_id bigint, primary key (product_in_order_id))
2021-01-31 13:46:37.228 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table user (user_id bigint not null, password varchar(60), role varchar(10), username varchar(20), primary key (user_id))
2021-01-31 13:46:37.234 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : create table user_details (user_details_id bigint not null, email_id varchar(255), first_name varchar(40), last_name varchar(40), phone_no varchar(10), security_answer varchar(10), security_question varchar(80), address_id bigint, primary key (user_details_id))
2021-01-31 13:46:37.237 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table user add constraint UK_sb8bbouer5wak8vyiiy4pf2bx unique (username)
2021-01-31 13:46:37.246 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table cart add constraint FK_cart_id foreign key (user_details_id) references user_details
2021-01-31 13:46:37.261 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table product_info add constraint FK_category_ID foreign key (product_category) references product_category
2021-01-31 13:46:37.264 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table product_in_order add constraint FK_product_cart_ID foreign key (cart_id) references cart
2021-01-31 13:46:37.268 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table product_in_order add constraint FKt0sfj3ffasrift1c4lv3ra85e foreign key (order_id) references order_main
2021-01-31 13:46:37.270 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table user_details add constraint FK_ADDR_ID foreign key (address_id) references address
2021-01-31 13:46:37.272 DEBUG 15336 --- [restartedMain] org.hibernate.SQL                        : alter table user_details add constraint FK_USER_ID foreign key (user_details_id) references user
2021-01-31 13:46:37.275  INFO 15336 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-01-31 13:46:37.290  INFO 15336 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-01-31 13:46:37.413  WARN 15336 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2021-01-31 13:46:37.863  WARN 15336 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2021-01-31 13:46:37.864  INFO 15336 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-01-31 13:46:38.320  WARN 15336 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-01-31 13:46:39.021  INFO 15336 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-01-31 13:46:43.282  INFO 15336 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2021-01-31 13:46:43.341  WARN 15336 --- [restartedMain] ockingLoadBalancerClientRibbonWarnLogger : You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2021-01-31 13:46:43.422  INFO 15336 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2021-01-31 13:46:43.563  INFO 15336 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2021-01-31 13:46:43.617  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2021-01-31 13:46:45.416  INFO 15336 --- [restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2021-01-31 13:46:45.417  INFO 15336 --- [restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2021-01-31 13:46:45.863  INFO 15336 --- [restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2021-01-31 13:46:45.863  INFO 15336 --- [restartedMain] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2021-01-31 13:46:46.148  INFO 15336 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2021-01-31 13:46:46.594  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2021-01-31 13:46:46.885  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2021-01-31 13:46:46.888  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2021-01-31 13:46:46.891  INFO 15336 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-01-31 13:46:46.896  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1612081006895 with initial instances count: 0
2021-01-31 13:46:46.910  INFO 15336 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application DATABASE-SERVER with eureka with status UP
2021-01-31 13:46:46.911  INFO 15336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1612081006911, current=UP, previous=STARTING]
2021-01-31 13:46:46.983  INFO 15336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9500 (http) with context path ''
2021-01-31 13:46:46.997  INFO 15336 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9500
2021-01-31 13:46:47.009  INFO 15336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DATABASE-SERVER/host.docker.internal:database-server:9500: registering service...
2021-01-31 13:46:47.534  INFO 15336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DATABASE-SERVER/host.docker.internal:database-server:9500 - registration status: 204
2021-01-31 13:46:48.932  INFO 15336 --- [restartedMain] c.c.d.DatabaseServerApplication          : Started DatabaseServerApplication in 30.877 seconds (JVM running for 35.019)
2021-01-31 13:47:17.139  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2021-01-31 13:47:17.140  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2021-01-31 13:47:17.142  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2021-01-31 13:47:17.142  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2021-01-31 13:47:17.143  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2021-01-31 13:47:17.143  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2021-01-31 13:47:17.143  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2021-01-31 13:47:17.207  INFO 15336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2021-01-31 13:51:46.607  INFO 15336 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2021-01-31 13:56:46.614  INFO 15336 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2021-01-31 14:01:38.916  INFO 15336 --- [Thread-2] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application DATABASE-SERVER with eureka with status DOWN
2021-01-31 14:01:38.917 ERROR 15336 --- [Thread-2] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1612081898917, current=DOWN, previous=UP]
2021-01-31 14:01:38.918  INFO 15336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DATABASE-SERVER/host.docker.internal:database-server:9500: registering service...
2021-01-31 14:01:38.931  INFO 15336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DATABASE-SERVER/host.docker.internal:database-server:9500 - registration status: 204
2021-01-31 14:01:39.527  INFO 15336 --- [Thread-2] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-01-31 14:01:39.562  INFO 15336 --- [Thread-2] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-01-31 14:01:39.781  WARN 15336 --- [Thread-2] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-01-31 14:01:39.782  INFO 15336 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-01-31 14:01:39.788  INFO 15336 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-01-31 14:01:39.790  INFO 15336 --- [Thread-2] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2021-01-31 14:01:42.798  INFO 15336 --- [Thread-2] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2021-01-31 14:01:42.814  INFO 15336 --- [Thread-2] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DATABASE-SERVER/host.docker.internal:database-server:9500 - deregister  status: 200
2021-01-31 14:01:42.826  INFO 15336 --- [Thread-2] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
